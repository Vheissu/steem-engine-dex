<template>
    <require from="./components/balances"></require>
    <require from="./components/buybook"></require>
    <require from="./components/sellbook"></require>
    <require from="./components/best-price.html"></require>
    <require from="./components/trade-history.html"></require>
    <require from="./components/token-metrics"></require>
    <require from="./components/order-actions"></require>

    <div class="token-metrics-margin-top">
        <token-metrics
            token.bind="data"
            deposit.call="deposit()"
            withdraw.call="withdraw()"
        ></token-metrics>
    </div>
    <div class="container-fluid h100-minus-header">
        <div class="row exchange-columns h100">
            <div class="col-lg-3 col-md-12 col-sm-12">
                <div class="exchange-header">
                    <h2>Sell Orders</h2>
                </div>
                <sellbook loading.bind="loadingUserSellBook"
                          sell-book.bind="sellBook"
                          data.bind="data"
                          price.bind="bidPrice"
                ></sellbook>
                <best-price order.bind="bestSellPrice"></best-price>
                <div class="exchange-header">
                    <h2>Buy Orders</h2>
                </div>
                <buybook loading.bind="loadingUserBuyBook"
                         buy-book.bind="buyBook"
                         data.bind="data"
                         price.bind="bidPrice"
                ></buybook>
            </div>

            <div class="col-lg-6 col-md-12 col-sm-12 chart-col">
                <chart class="exchange-chart" data.bind="chartData" view-model.ref="chartRef"></chart>

                <div class="row">
                    <div class="col-md-6">
                        <balances
                            data.bind="data"
                            steemp-balance.bind="steempBalance"
                            token-balance.bind="tokenBalance"
                            deposit.call="deposit()"
                        ></balances>
                    </div>
                    <div class="col-md-6">
                        <order-actions
                            data.bind="data"
                            price.bind="bidPrice"
                            quantity.bind="bidQuantity"
                            mode.bind="currentExchangeMode"
                            steemp-balance.bind="steempBalance"
                            token-balance.bind="tokenBalance"
                            confirm.call="confirmMarketOrder()"
                            amount-select.call="amountSelect(amount)"
                            total.bind="totalMarketBalance"
                        >
                        </order-actions>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-12 col-sm-12">
                <div class="exchange-header">
                    <h2>Transaction History</h2>
                </div>
                <trade-history trades.bind="tradeHistory"></trade-history>
            </div>
        </div>
    </div>
</template>
